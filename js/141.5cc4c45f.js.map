{"version":3,"file":"js/141.5cc4c45f.js","mappings":"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","sources":["webpack://chat/./node_modules/core-js/internals/add-to-unscopables.js","webpack://chat/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://chat/./node_modules/core-js/internals/html.js","webpack://chat/./node_modules/core-js/internals/object-create.js","webpack://chat/./node_modules/core-js/internals/object-define-properties.js","webpack://chat/./node_modules/core-js/internals/object-keys.js","webpack://chat/./node_modules/core-js/internals/regexp-flags.js","webpack://chat/./node_modules/core-js/modules/es.array.at.js","webpack://chat/./node_modules/core-js/modules/es.regexp.flags.js","webpack://chat/./node_modules/core-js/modules/es.string.at-alternative.js","webpack://chat/./src/utils/colour.js","webpack://chat/./src/utils/common.js","webpack://chat/./src/utils/tpd.js","webpack://chat/./src/utils/chat.js","webpack://chat/./src/utils/twitch.js"],"sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es-x/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es-x/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es-x/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'Array', proto: true }, {\n  at: function at(index) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : O[k];\n  }\n});\n\naddToUnscopables('at');\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\n\nvar charAt = uncurryThis(''.charAt);\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es-x/no-array-string-prototype-at -- safe\n  return '𠮷'.at(-2) !== '\\uD842';\n});\n\n// `String.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'String', proto: true, forced: FORCED }, {\n  at: function at(index) {\n    var S = toString(requireObjectCoercible(this));\n    var len = S.length;\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : charAt(S, k);\n  }\n});\n","/**\r\n * Colour class\r\n * Represet the colour object and it's different types (HEX, RGBA, XYZ, LAB)\r\n * This class have the ability to do the following\r\n * 1. Convert HEX to RGBA\r\n * 2. Convert RGB to XYZ\r\n * 3. Convert XYZ to LAB\r\n * 4. Calculate Delta E00 between two LAB colour (Main purpose)\r\n * @author Ahmed Moussa <moussa.ahmed95@gmail.com>\r\n * @version 2.0\r\n */\r\nclass Colour {\r\n\t/**\r\n\t * Convert HEX to LAB\r\n\t * @param {[string]} hex hex colour value desired to be converted to LAB\r\n\t */\r\n\tstatic hex2lab(hex) {\r\n\t\tconst [r, g, b, a] = Colour.hex2rgba(hex);\r\n\t\tconst [x, y, z] = Colour.rgb2xyz(r, g, b, a);\r\n\t\treturn Colour.xyz2lab(x, y, z); // [l, a, b]\r\n\t}\r\n\t/**\r\n\t * Convert RGBA to LAB\r\n\t * @param {[Number]} r     Red value from 0 to 255\r\n\t * @param {[Number]} g     Green value from 0 to 255\r\n\t * @param {[Number]} b     Blue value from 0 to 255\r\n\t */\r\n\tstatic rgba2lab(r, g, b, a = 1) {\r\n\t\tconst [x, y, z] = Colour.rgb2xyz(r, g, b, a);\r\n\t\treturn Colour.xyz2lab(x, y, z); // [l, a, b]\r\n\t}\r\n\t/**\r\n\t * Convert LAB to RGBA\r\n\t * @param {[Number]} l\r\n\t * @param {[Number]} a\r\n\t * @param {[Number]} b \r\n\t */\r\n\tstatic lab2rgba(l, a, b) {\r\n\t\tconst [x, y, z] = Colour.lab2xyz(l, a, b);\r\n\t\treturn Colour.xyz2rgba(x, y, z); // [r, g, b, a]\r\n\t}\r\n\t/**\r\n\t * Convert HEX to RGBA\r\n\t * @param {[string]} hex hex colour value desired to be converted to RGBA\r\n\t */\r\n\tstatic hex2rgba(hex) {\r\n\t\tlet c;\r\n\t\tif (hex.charAt(0) === \"#\") {\r\n\t\t\tc = hex.substring(1).split('');\r\n\t\t}\r\n\t\tif (c.length > 6 || c.length < 3) {\r\n\t\t\tthrow new Error(`HEX colour must be 3 or 6 values. You provided it ${c.length}`);\r\n\t\t}\r\n\t\tif (c.length === 3) {\r\n\t\t\tc = [c[0], c[0], c[1], c[1], c[2], c[2]];\r\n\t\t}\r\n\t\tc = \"0x\" + c.join(\"\");\r\n\t\tlet r = (c >> 16) & 255;\r\n\t\tlet g = (c >> 8) & 255;\r\n\t\tlet b = c & 255;\r\n\t\tlet a = 1;\r\n\t\treturn [r, g, b, a];\r\n\t}\r\n\t/**\r\n\t * Convert RGB to XYZ\r\n\t * @param {[Number]} r     Red value from 0 to 255\r\n\t * @param {[Number]} g     Green value from 0 to 255\r\n\t * @param {[Number]} b     Blue value from 0 to 255\r\n\t * @param {Number} [a=1]   Obacity value from 0 to 1 with a default value of 1 if not sent\r\n\t */\r\n\tstatic rgb2xyz(r, g, b, a = 1) {\r\n\t\tif (r > 255) {\r\n\t\t\t// console.warn(\"Red value was higher than 255. It has been set to 255.\");\r\n\t\t\tr = 255;\r\n\t\t} else if (r < 0) {\r\n\t\t\t// console.warn(\"Red value was smaller than 0. It has been set to 0.\");\r\n\t\t\tr = 0;\r\n\t\t}\r\n\t\tif (g > 255) {\r\n\t\t\t// console.warn(\"Green value was higher than 255. It has been set to 255.\");\r\n\t\t\tg = 255;\r\n\t\t} else if (g < 0) {\r\n\t\t\t// console.warn(\"Green value was smaller than 0. It has been set to 0.\");\r\n\t\t\tg = 0;\r\n\t\t}\r\n\t\tif (b > 255) {\r\n\t\t\t// console.warn(\"Blue value was higher than 255. It has been set to 255.\");\r\n\t\t\tb = 255;\r\n\t\t} else if (b < 0) {\r\n\t\t\t// console.warn(\"Blue value was smaller than 0. It has been set to 0.\");\r\n\t\t\tb = 0;\r\n\t\t}\r\n\t\tif (a > 1) {\r\n\t\t\t// console.warn(\"Obacity value was higher than 1. It has been set to 1.\");\r\n\t\t\ta = 1;\r\n\t\t} else if (a < 0) {\r\n\t\t\t// console.warn(\"Obacity value was smaller than 0. It has been set to 0.\");\r\n\t\t\ta = 0;\r\n\t\t}\r\n\t\tr = r / 255;\r\n\t\tg = g / 255;\r\n\t\tb = b / 255;\r\n\t\t// step 1\r\n\t\tif (r > 0.04045) {\r\n\t\t\tr = Math.pow(((r + 0.055) / 1.055), 2.4);\r\n\t\t} else {\r\n\t\t\tr = r / 12.92;\r\n\t\t}\r\n\t\tif (g > 0.04045) {\r\n\t\t\tg = Math.pow(((g + 0.055) / 1.055), 2.4);\r\n\t\t} else {\r\n\t\t\tg = g / 12.92;\r\n\t\t}\r\n\t\tif (b > 0.04045) {\r\n\t\t\tb = Math.pow(((b + 0.055) / 1.055), 2.4);\r\n\t\t} else {\r\n\t\t\tb = b / 12.92;\r\n\t\t}\r\n\t\t// step 2\r\n\t\tr = r * 100;\r\n\t\tg = g * 100;\r\n\t\tb = b * 100;\r\n\t\t// step 3\r\n\t\tconst x = (r * 0.4124564) + (g * 0.3575761) + (b * 0.1804375);\r\n\t\tconst y = (r * 0.2126729) + (g * 0.7151522) + (b * 0.0721750);\r\n\t\tconst z = (r * 0.0193339) + (g * 0.1191920) + (b * 0.9503041);\r\n\t\treturn [x, y, z];\r\n\t}\r\n\t/**\r\n\t * Convert XYZ to RGBA\r\n\t * @param {[Number]} x\r\n\t * @param {[Number]} y\r\n\t * @param {[Number]} z\r\n\t */\r\n\tstatic xyz2rgba(x, y, z) {\r\n\t\tlet varX = x / 100;\r\n\t\tlet varY = y / 100;\r\n\t\tlet varZ = z / 100;\r\n\r\n\t\tlet varR = (varX *  3.2404542) + (varY * -1.5371385) + (varZ * -0.4985314);\r\n\t\tlet varG = (varX * -0.9692660) + (varY *  1.8760108) + (varZ * 0.0415560);\r\n\t\tlet varB = (varX *  0.0556434) + (varY * -0.2040259) + (varZ * 1.0572252);\r\n\r\n\t\tif ( varR > 0.0031308 ) {\r\n\t\t\tvarR = 1.055 * Math.pow(varR, (1 / 2.4) ) - 0.055;\r\n\t\t} else {\r\n\t\t\tvarR = 12.92 * varR;\r\n\t\t}\r\n\t\tif ( varG > 0.0031308 ) {\r\n\t\t\tvarG = 1.055 * Math.pow(varG, (1 / 2.4) ) - 0.055;\r\n\t\t} else {\r\n\t\t\tvarG = 12.92 * varG;\r\n\t\t}\r\n\t\tif ( varB > 0.0031308 ) {\r\n\t\t\tvarB = 1.055 * Math.pow(varB, (1 / 2.4) ) - 0.055;\r\n\t\t} else {\r\n\t\t\tvarB = 12.92 * varB;\r\n\t\t}\r\n\r\n\t\tlet r = Math.round(varR * 255);\r\n\t\tlet g = Math.round(varG * 255);\r\n\t\tlet b = Math.round(varB * 255);\r\n\r\n\t\treturn [r, g, b, 1];\r\n\t}\r\n\t/**\r\n\t * Convert XYZ to LAB\r\n\t * @param {[Number]} x Value\r\n\t * @param {[Number]} y Value\r\n\t * @param {[Number]} z Value\r\n\t */\r\n\tstatic xyz2lab(x, y, z) {\r\n\t\t// using 10o Observer (CIE 1964)\r\n\t\t// CIE10_D65 = {94.811f, 100f, 107.304f} => Daylight\r\n\t\tconst referenceX = 94.811;\r\n\t\tconst referenceY = 100;\r\n\t\tconst referenceZ = 107.304;\r\n\t\t// step 1\r\n\t\tx = x / referenceX;\r\n\t\ty = y / referenceY;\r\n\t\tz = z / referenceZ;\r\n\t\t// step 2\r\n\t\tif (x > 0.008856) {\r\n\t\t\tx = Math.pow(x, (1 / 3));\r\n\t\t} else {\r\n\t\t\tx = (7.787 * x) + (16 / 116);\r\n\t\t}\r\n\t\tif (y > 0.008856) {\r\n\t\t\ty = Math.pow(y, (1 / 3));\r\n\t\t} else {\r\n\t\t\ty = (7.787 * y) + (16 / 116);\r\n\t\t}\r\n\t\tif (z > 0.008856) {\r\n\t\t\tz = Math.pow(z, (1 / 3));\r\n\t\t} else {\r\n\t\t\tz = (7.787 * z) + (16 / 116);\r\n\t\t}\r\n\t\t// step 3\r\n\t\tconst l = (116 * y) - 16;\r\n\t\tconst a = 500 * (x - y);\r\n\t\tconst b = 200 * (y - z);\r\n\t\treturn [l, a, b];\r\n\t}\r\n\t/**\r\n\t * Convert LAB to XYZ\r\n\t * @param {[Number]} l\r\n\t * @param {[Number]} a\r\n\t * @param {[Number]} b\r\n\t */\r\n\tstatic lab2xyz(l, a, b) {\r\n\t\t// using 10o Observer (CIE 1964)\r\n\t\t// CIE10_D65 = {94.811f, 100f, 107.304f} => Daylight\r\n\t\tconst referenceX = 94.811;\r\n\t\tconst referenceY = 100;\r\n\t\tconst referenceZ = 107.304;\r\n\r\n\t\tlet varY = ( l + 16 ) / 116;\r\n\t\tlet varX = a / 500 + varY;\r\n\t\tlet varZ = varY - b / 200;\r\n\r\n\t\tif ( Math.pow(varY, 3)  > 0.008856 ) {\r\n\t\t\tvarY = Math.pow(varY, 3);\r\n\t\t} else {\r\n\t\t\tvarY = ( varY - 16 / 116 ) / 7.787;\r\n\t\t}\r\n\t\tif ( Math.pow(varX, 3)  > 0.008856 ) {\r\n\t\t\tvarX = Math.pow(varX, 3);\r\n\t\t} else {\r\n\t\t\tvarX = ( varX - 16 / 116 ) / 7.787;\r\n\t\t}\r\n\t\tif ( Math.pow(varZ, 3)  > 0.008856 ) {\r\n\t\t\tvarZ = Math.pow(varZ, 3);\r\n\t\t} else {\r\n\t\t\tvarZ = ( varZ - 16 / 116 ) / 7.787;\r\n\t\t}\r\n\r\n\t\tlet x = varX * referenceX;\r\n\t\tlet y = varY * referenceY;\r\n\t\tlet z = varZ * referenceZ;\r\n\r\n\t\treturn [x, y, z];\r\n\t}\r\n\t/**\r\n\t * The difference between two given colours with respect to the human eye\r\n\t * @param {[type]} l1 Colour 1\r\n\t * @param {[type]} a1 Colour 1\r\n\t * @param {[type]} b1 Colour 1\r\n\t * @param {[type]} l2 Colour 2\r\n\t * @param {[type]} a2 Colour 2\r\n\t * @param {[type]} b2 Colour 2\r\n\t */\r\n\tstatic deltaE00(l1, a1, b1, l2, a2, b2) {\r\n\t\t// Utility functions added to Math Object\r\n\t\tMath.rad2deg = function(rad) {\r\n\t\t\treturn 360 * rad / (2 * Math.PI);\r\n\t\t};\r\n\t\tMath.deg2rad = function(deg) {\r\n\t\t\treturn (2 * Math.PI * deg) / 360;\r\n\t\t};\r\n\t\t// Start Equation\r\n\t\t// Equation exist on the following URL http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html\r\n\t\tconst avgL = (l1 + l2) / 2;\r\n\t\tconst c1 = Math.sqrt(Math.pow(a1, 2) + Math.pow(b1, 2));\r\n\t\tconst c2 = Math.sqrt(Math.pow(a2, 2) + Math.pow(b2, 2));\r\n\t\tconst avgC = (c1 + c2) / 2;\r\n\t\tconst g = (1 - Math.sqrt(Math.pow(avgC, 7) / (Math.pow(avgC, 7) + Math.pow(25, 7)))) / 2;\r\n\r\n\t\tconst a1p = a1 * (1 + g);\r\n\t\tconst a2p = a2 * (1 + g);\r\n\r\n\t\tconst c1p = Math.sqrt(Math.pow(a1p, 2) + Math.pow(b1, 2));\r\n\t\tconst c2p = Math.sqrt(Math.pow(a2p, 2) + Math.pow(b2, 2));\r\n\r\n\t\tconst avgCp = (c1p + c2p) / 2;\r\n\r\n\t\tlet h1p = Math.rad2deg(Math.atan2(b1, a1p));\r\n\t\tif (h1p < 0) {\r\n\t\t\th1p = h1p + 360;\r\n\t\t}\r\n\r\n\t\tlet h2p = Math.rad2deg(Math.atan2(b2, a2p));\r\n\t\tif (h2p < 0) {\r\n\t\t\th2p = h2p + 360;\r\n\t\t}\r\n\r\n\t\tconst avghp = Math.abs(h1p - h2p) > 180 ? (h1p + h2p + 360) / 2 : (h1p + h2p) / 2;\r\n\r\n\t\tconst t = 1 - 0.17 * Math.cos(Math.deg2rad(avghp - 30)) + 0.24 * Math.cos(Math.deg2rad(2 * avghp)) + 0.32 * Math.cos(Math.deg2rad(3 * avghp + 6)) - 0.2 * Math.cos(Math.deg2rad(4 * avghp - 63));\r\n\r\n\t\tlet deltahp = h2p - h1p;\r\n\t\tif (Math.abs(deltahp) > 180) {\r\n\t\t\tif (h2p <= h1p) {\r\n\t\t\t\tdeltahp += 360;\r\n\t\t\t} else {\r\n\t\t\t\tdeltahp -= 360;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst deltalp = l2 - l1;\r\n\t\tconst deltacp = c2p - c1p;\r\n\r\n\t\tdeltahp = 2 * Math.sqrt(c1p * c2p) * Math.sin(Math.deg2rad(deltahp) / 2);\r\n\r\n\t\tconst sl = 1 + ((0.015 * Math.pow(avgL - 50, 2)) / Math.sqrt(20 + Math.pow(avgL - 50, 2)));\r\n\t\tconst sc = 1 + 0.045 * avgCp;\r\n\t\tconst sh = 1 + 0.015 * avgCp * t;\r\n\r\n\t\tconst deltaro = 30 * Math.exp(-(Math.pow((avghp - 275) / 25, 2)));\r\n\t\tconst rc = 2 * Math.sqrt(Math.pow(avgCp, 7) / (Math.pow(avgCp, 7) + Math.pow(25, 7)));\r\n\t\tconst rt = -rc * Math.sin(2 * Math.deg2rad(deltaro));\r\n\r\n\t\tconst kl = 1;\r\n\t\tconst kc = 1;\r\n\t\tconst kh = 1;\r\n\r\n\t\tconst deltaE = Math.sqrt(Math.pow(deltalp / (kl * sl), 2) + Math.pow(deltacp / (kc * sc), 2) + Math.pow(deltahp / (kh * sh), 2) + rt * (deltacp / (kc * sc)) * (deltahp / (kh * sh)));\r\n\r\n\t\treturn deltaE;\r\n\t}\r\n\t/**\r\n\t * Get darker colour of the given colour\r\n\t * @param {[Number]} r     Red value from 0 to 255\r\n\t * @param {[Number]} g     Green value from 0 to 255\r\n\t * @param {[Number]} b     Blue value from 0 to 255\r\n\t */\r\n\tstatic getDarkerColour(r, g, b, a = 1, darkenPercentage = 0.05) {\r\n\t\tlet [l1, a1, b1] = Colour.rgba2lab(r, g, b, a);\r\n\t\tl1 -= l1 * darkenPercentage;\r\n\t\tif (l1 < 0) {\r\n\t\t\tl1 = 0;\r\n\t\t}\r\n\t\treturn Colour.lab2rgba(l1, a1, b1); // [R, G, B, A]\r\n\t}\r\n\t/**\r\n\t * Get brighter colour of the given colour\r\n\t * @param {[Number]} r     Red value from 0 to 255\r\n\t * @param {[Number]} g     Green value from 0 to 255\r\n\t * @param {[Number]} b     Blue value from 0 to 255\r\n\t */\r\n\tstatic getBrighterColour(r, g, b, a = 1, brighterPercentage = 0.05) {\r\n\t\tlet [l1, a1, b1] = Colour.rgba2lab(r, g, b, a);\r\n\t\tl1 += l1 * brighterPercentage;\r\n\t\tif (l1 > 100) {\r\n\t\t\tl1 = 100;\r\n\t\t}\r\n\t\treturn Colour.lab2rgba(l1, a1, b1); // [R, G, B, A]\r\n\t}\r\n}\r\n\r\nexport default Colour","\r\nfunction componentToHex(c) {\r\n  var hex = c.toString(16);\r\n  return hex.length == 1 ? \"0\" + hex : hex;\r\n}\r\n\r\nfunction hexToRgb(hex) {\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)] : null\r\n}\r\n\r\nvar Common = {\r\n  textToMessageObject(text) {\r\n    let r = []\r\n    for (const key of text.split(\" \")) {\r\n      let m = key.trim()\r\n      if (m == \"\") continue\r\n      r.push({\"Type\": \"text\", \"Text\": m+\" \"})\r\n    }\r\n    return r\r\n  },\r\n\r\n  getEmote(emotes, name) {\r\n    for (const em of emotes) {\r\n      if (em.Name == name) {\r\n        return [true, em]\r\n      }\r\n    }\r\n    return [false, {}]\r\n  },\r\n\r\n  getEmoteTwitch(emotes, name) {\r\n    for (const em in emotes) {\r\n      if (em == name) {\r\n        return [true, emotes[em]]\r\n      }\r\n    }\r\n    return [false, {}]\r\n  },\r\n\r\n  magnitude(vector) {\r\n    let sum = 0;\r\n    for (let i = 0; i < vector.length; i++) {\r\n      sum += vector[i] * vector[i];\r\n    }\r\n  \r\n    return Math.sqrt(sum);\r\n  },\r\n\r\n  dot_product(vector1, vector2) {\r\n    if (vector1.length !== vector2.length) {\r\n      throw new Error('Vectors must have the same length');\r\n    }\r\n  \r\n    let sum = 0;\r\n    for (let i = 0; i < vector1.length; i++) {\r\n      sum += vector1[i] * vector2[i];\r\n    }\r\n  \r\n    return sum;\r\n  },\r\n\r\n    DecimalToStringRGBA(num) {\r\n        const r = (num >>> 24) & 0xff;\r\n        const g = (num >>> 16) & 0xff;\r\n        const b = (num >>> 8) & 0xff;\r\n        const a = num & 0xff;\r\n    \r\n        return `rgba(${r}, ${g}, ${b}, ${(a / 255).toFixed(3)})`;\r\n    },\r\n\r\n    toGray(color) {\r\n      let rgb = hexToRgb(color)\r\n      return ((rgb[0]/255)*0.2126) + ((rgb[1]/255)*0.7152) + (0.0722*(rgb[2]/255))\r\n    },\r\n\r\n    pSBC(p,c0,c1,l) {\r\n        let r,g,b,P,f,t,h,i=parseInt,m=Math.round,a=typeof(c1)==\"string\";\r\n        if(typeof(p)!=\"number\"||p<-1||p>1||typeof(c0)!=\"string\"||(c0[0]!='r'&&c0[0]!='#')||(c1&&!a))return null;\r\n        if(!this.pSBCr)this.pSBCr=(d)=>{\r\n            let n=d.length,x={};\r\n            if(n>9){\r\n                [r,g,b,a]=d=d.split(\",\"),n=d.length;\r\n                if(n<3||n>4)return null;\r\n                x.r=i(r[3]==\"a\"?r.slice(5):r.slice(4)),x.g=i(g),x.b=i(b),x.a=a?parseFloat(a):-1\r\n            }else{\r\n                if(n==8||n==6||n<4)return null;\r\n                if(n<6)d=\"#\"+d[1]+d[1]+d[2]+d[2]+d[3]+d[3]+(n>4?d[4]+d[4]:\"\");\r\n                d=i(d.slice(1),16);\r\n                if(n==9||n==5)x.r=d>>24&255,x.g=d>>16&255,x.b=d>>8&255,x.a=m((d&255)/0.255)/1000;\r\n                else x.r=d>>16,x.g=d>>8&255,x.b=d&255,x.a=-1\r\n            }return x};\r\n        h=c0.length>9,h=a?c1.length>9?true:c1==\"c\"?!h:false:h,f=this.pSBCr(c0),P=p<0,t=c1&&c1!=\"c\"?this.pSBCr(c1):P?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},p=P?p*-1:p,P=1-p;\r\n        if(!f||!t)return null;\r\n        if(l)r=m(P*f.r+p*t.r),g=m(P*f.g+p*t.g),b=m(P*f.b+p*t.b);\r\n        else r=m((P*f.r**2+p*t.r**2)**0.5),g=m((P*f.g**2+p*t.g**2)**0.5),b=m((P*f.b**2+p*t.b**2)**0.5);\r\n        a=f.a,t=t.a,f=a>=0||t>=0,a=f?a<0?t:t<0?a:a*P+t*p:0;\r\n        if(h)return\"rgb\"+(f?\"a(\":\"(\")+r+\",\"+g+\",\"+b+(f?\",\"+m(a*1000)/1000:\"\")+\")\";\r\n        else return\"#\"+(4294967296+r*16777216+g*65536+b*256+(f?m(a*255):0)).toString(16).slice(1,f?undefined:-2)\r\n    },\r\n\r\n    hexToRgb(hex) {\r\n      var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n      return result ? [parseInt(result[1], 16)/255, parseInt(result[2], 16)/255, parseInt(result[3], 16)/255] : null\r\n    },\r\n    \r\n    rgbToHex(r, g, b) {\r\n      return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n    },\r\n  \r\n    parse_smiles(message, smiles){\r\n        let result = {}\r\n        message = message.replace(/([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g, 'a');\r\n        for (const [i,k] of Object.entries(smiles)) {\r\n          let smile\r\n          if (parseInt(k[0][\"endPosition\"]) - k[0][\"startPosition\"] == 1){\r\n            smile = message.substring(k[0][\"startPosition\"], parseInt(k[0][\"endPosition\"])+2).trim()\r\n          }\r\n          else {\r\n            smile = message.substring(parseInt(k[0][\"startPosition\"]), parseInt(k[0][\"endPosition\"])+2).trim()\r\n          }\r\n          smile = smile.split(\" \")[0]\r\n          if (!(smile in result)){\r\n            result[smile] = `https://static-cdn.jtvnw.net/emoticons/v2/${i}/default/light/2.0`\r\n          }\r\n        }\r\n        return result\r\n    }\r\n}\r\n\r\nexport default Common","// import common from '@/methods/common.js'\r\n// @todo: сделать таймаут на получение всякой хуеты если произошла ошибка кроме 404\r\n\r\nvar Huita = {\r\n\r\n    async get7tvEmoteSet(set_id) {\r\n        const response = await fetch(`https://7tv.io/v3/emote-sets/${set_id}`)\r\n        if (response.ok) {\r\n            let emotes = []\r\n            \r\n            const json = await response.json()\r\n            if (json.emotes != undefined) {\r\n                for (const emote of json.emotes) {\r\n                    emotes.push({\"Name\": emote.name, \"ID\": emote.id, \"Type\": \"7TV\", \"ZeroWidth\": emote.flags == 1})\r\n                }\r\n    \r\n                let owner = json.owner.username\r\n    \r\n                return [emotes, owner]\r\n            } else {\r\n                return [undefined, undefined]\r\n            }\r\n        } \r\n        throw \"failed to fetch 7tv emote set\"\r\n    },\r\n\r\n    async wait(ms) {\r\n        return new Promise((resolve) => {\r\n            setTimeout(resolve, ms);\r\n        });\r\n    },\r\n    \r\n    async RetryOnError(func, args, attempts) {\r\n        for (let a = 0; a < attempts; a++) {\r\n            try {\r\n                return await func(...args)\r\n            } catch (error) {\r\n                console.log(\"Attemption failed, retrying in 1s\")\r\n                await this.wait(1000)\r\n                continue\r\n            }\r\n        }\r\n        console.log(\"Failed to fetch func\")\r\n        return [];\r\n    },\r\n\r\n    async getUserID(channel) {\r\n        const response = await fetch(`https://api.ivr.fi/v2/twitch/user?login=${channel}`)\r\n        if (response.ok) {\r\n            console.log(\"IVR API successful, getting user-id...\")\r\n            const json = await response.json()\r\n            return json[0].id\r\n        }\r\n        throw \"Unable to get user id from ivr API!\"\r\n    },\r\n    async getGlobalBadges() {\r\n        let badges = {}\r\n\r\n        const response = await fetch(\"https://badges.twitch.tv/v1/badges/global/display?language=en\")\r\n        if (response.ok) {\r\n                const json = await response.json()\r\n            for (const [key, value] of Object.entries(json[\"badge_sets\"])) {\r\n                let vers = value[\"versions\"]\r\n                let finalVersions = {}\r\n                for (const [key, value] of Object.entries(vers)) {\r\n                    finalVersions[key] = value[\"image_url_2x\"]\r\n                }\r\n                badges[key] = finalVersions\r\n                }\r\n            return badges\r\n        }\r\n        if (response.status != 404) {\r\n            throw \"not loaded\"\r\n        }\r\n        return {}\r\n    },\r\n    async getSubscriberBadges(user_id) {\r\n        let subscriber = {}\r\n\r\n        const response = await fetch(`https://badges.twitch.tv/v1/badges/channels/${user_id}/display`)\r\n        const json = await response.json()\r\n        if (response.ok && Object.keys(json.badge_sets).length > 0) {\r\n            let vers = json[\"badge_sets\"][\"subscriber\"][\"versions\"]\r\n            let finalVersions = {}\r\n            for (const [key, value] of Object.entries(vers)) {\r\n                finalVersions[key] = value[\"image_url_2x\"]\r\n            }\r\n            subscriber = finalVersions\r\n            return subscriber\r\n        }\r\n        if (response.status != 404 && Object.keys(json.badge_sets).length > 0) {\r\n            throw \"not loaded\"\r\n        }\r\n        return {}\r\n    },\r\n    async get7tvBadgesPaints() {\r\n            let badges = []\r\n            let paints = []\r\n\r\n        const response = await fetch(`https://api.7tv.app/v2/badges?user_identifier=twitch_id`)\r\n        if (response.ok) {\r\n                const json = await response.json()\r\n            for (const value of json[\"badges\"]) {\r\n                badges.push({\"Users\": value.users, \"Url\": value.urls[1][1], Type: \"7TV\"})\r\n            }\r\n            for (const value of json[\"paints\"]) {\r\n                paints.push(value)\r\n            }\r\n            return [badges, paints]\r\n        }\r\n        if (response.status != 404) {\r\n            throw \"not loaded\"\r\n        }\r\n        return []\r\n    },\r\n    async get7tvEmotes(user_id) {\r\n        let emotes = {}\r\n\r\n        const response = await fetch(`https://7tv.io/v3/users/twitch/${user_id}`)\r\n        if (response.ok) {\r\n            const json = await response.json()\r\n            for (const value of json[\"emote_set\"][\"emotes\"]) {\r\n                emotes[value.name] = {\"ID\": value.id, \"Type\": \"7TV\", \"ZeroWidth\": value.flags == 1}\r\n            }\r\n            return [emotes, json[\"emote_set\"][\"id\"]]\r\n        }\r\n        if (response.status != 404) {\r\n            throw \"7tv not loaded\"\r\n        }\r\n        return {}\r\n    },\r\n    async get7tvGlobalEmotes() {\r\n        let emotes = {}\r\n\r\n        const response = await fetch(`https://7tv.io/v3/emote-sets/62cdd34e72a832540de95857`)\r\n        if (response.ok) {\r\n            const json = await response.json()\r\n            for (const value of json[\"emotes\"]) {\r\n                emotes[value.name] = {\"ID\": value.id, \"Type\": \"7TV\", \"ZeroWidth\": value.flags == 1}\r\n            }\r\n            return emotes\r\n        }\r\n        if (response.status != 404) {\r\n            throw \"not loaded\"\r\n        }\r\n        return {}\r\n    },\r\n    async getBttvEmotes(user_id) {\r\n        let emotes = {}\r\n        const response = await fetch(`https://api.betterttv.net/3/cached/users/twitch/${user_id}`)\r\n        if (response.ok) {\r\n            const json = await response.json()\r\n            if (json[\"sharedEmotes\"]) {\r\n                for (const value of json[\"sharedEmotes\"]) {\r\n                    emotes[value.code] = {\"ID\": value.id, \"Type\": \"BTTV\"}\r\n                }\r\n            }\r\n            if (json[\"channelEmotes\"]) {\r\n                for (const value of json[\"channelEmotes\"]) {\r\n                    emotes[value.code] = {\"ID\": value.id, \"Type\": \"BTTV\"}\r\n                }\r\n            }\r\n            return emotes\r\n        }\r\n        if (response.status != 404) {\r\n            throw \"not loaded\"\r\n        }\r\n        return {}\r\n    },\r\n    async getBttvGlobalEmotes() {\r\n        let emotes = {}\r\n\r\n        const response = await fetch(`https://api.betterttv.net/3/cached/emotes/global`)\r\n        if (response.ok) {\r\n            const json = await response.json()\r\n            for (const value of json) {\r\n                emotes[value.code] = {\"ID\": value.id, \"Type\": \"BTTV\"}\r\n            }\r\n            return emotes\r\n        }\r\n        if (response.status != 404) {\r\n            throw \"not loaded\"\r\n        }\r\n        return {}\r\n    },\r\n    async getFfzEmotes(channel) { // returns emotes, mod badge, vip badge\r\n        let emotes = {}\r\n\r\n        const response = await fetch(`https://api.frankerfacez.com/v1/room/${channel}`)\r\n        if (response.ok) {\r\n            const json = await response.json()\r\n            for (const value of json[\"sets\"][json[\"room\"][\"set\"].toString()][\"emoticons\"]) {\r\n                emotes[value.name] = {\"ID\": value.id, \"Type\": \"FFZ\"}\r\n            }\r\n\r\n            // getting custom badges:\r\n            console.log(json.room.mod_urls)\r\n            let mod_badge = undefined\r\n            if (json.room.mod_urls != undefined) mod_badge = json.room.mod_urls[\"2\"]\r\n\r\n            console.log(json.vip_badge)\r\n            let vip_badge = undefined\r\n            if (json.room.vip_badge != undefined) vip_badge = json.room.vip_badge[\"2\"]\r\n            return [emotes, mod_badge, vip_badge]\r\n        }\r\n        if (response.status != 404) {\r\n            throw \"not loaded\"\r\n        }\r\n        return []\r\n    },\r\n    async getFfzGlobalEmotes() {\r\n        let emotes = {}\r\n\r\n        const response = await fetch(`https://api.frankerfacez.com/v1/set/global`)\r\n        if (response.ok) {\r\n            const json = await response.json()\r\n            for (const value of json[\"sets\"][\"3\"][\"emoticons\"]) {\r\n                emotes[value.name] = {\"ID\": value.id, \"Type\": \"FFZ\"}\r\n            }\r\n            return emotes\r\n        }\r\n        if (response.status != 404) {\r\n            throw \"not loaded\"\r\n        }\r\n        return {}\r\n    },\r\n    // @todo: ffz badges, bttv badges. Maybe add chatterino badges.\r\n}\r\n\r\nexport default Huita","\r\nfunction parseTags(tags) {\r\n    // badge-info=;badges=broadcaster/1;color=#0000FF;...\r\n\r\n    const tagsToIgnore = {  // List of tags to ignore.\r\n        'client-nonce': null,\r\n        'flags': null\r\n    };\r\n\r\n    let dictParsedTags = {};  // Holds the parsed list of tags.\r\n                              // The key is the tag's name (e.g., color).\r\n    let parsedTags = tags.split(';'); \r\n\r\n    parsedTags.forEach(tag => {\r\n        let parsedTag = tag.split('=');  // Tags are key/value pairs.\r\n        let tagValue = (parsedTag[1] === '') ? null : parsedTag[1];\r\n\r\n        switch (parsedTag[0]) {  // Switch on tag name\r\n            case 'badges':\r\n            case 'badge-info':\r\n                // badges=staff/1,broadcaster/1,turbo/1;\r\n\r\n                if (tagValue) {\r\n                    let dict = {};  // Holds the list of badge objects.\r\n                                    // The key is the badge's name (e.g., subscriber).\r\n                    let badges = tagValue.split(','); \r\n                    badges.forEach(pair => {\r\n                        let badgeParts = pair.split('/');\r\n                        dict[badgeParts[0]] = badgeParts[1];\r\n                    })\r\n                    dictParsedTags[parsedTag[0]] = dict;\r\n                }\r\n                else {\r\n                    dictParsedTags[parsedTag[0]] = null;\r\n                }\r\n                break;\r\n            case 'emotes':\r\n                // emotes=25:0-4,12-16/1902:6-10\r\n\r\n                if (tagValue) {\r\n                    let dictEmotes = {};  // Holds a list of emote objects.\r\n                                          // The key is the emote's ID.\r\n                    let emotes = tagValue.split('/');\r\n                    emotes.forEach(emote => {\r\n                        let emoteParts = emote.split(':');\r\n\r\n                        let textPositions = [];  // The list of position objects that identify\r\n                                                 // the location of the emote in the chat message.\r\n                        let positions = emoteParts[1].split(',');\r\n                        positions.forEach(position => {\r\n                            let positionParts = position.split('-');\r\n                            textPositions.push({\r\n                                startPosition: positionParts[0],\r\n                                endPosition: positionParts[1]    \r\n                            })\r\n                        });\r\n\r\n                        dictEmotes[emoteParts[0]] = textPositions;\r\n                    })\r\n\r\n                    dictParsedTags[parsedTag[0]] = dictEmotes;\r\n                }\r\n                else {\r\n                    dictParsedTags[parsedTag[0]] = null;\r\n                }\r\n\r\n                break;\r\n            case 'emote-sets': {\r\n                // emote-sets=0,33,50,237\r\n\r\n                let emoteSetIds = tagValue.split(',');  // Array of emote set IDs.\r\n                dictParsedTags[parsedTag[0]] = emoteSetIds;\r\n                break;\r\n            }\r\n            default:\r\n                // If the tag is in the list of tags to ignore, ignore\r\n                // it; otherwise, add it.\r\n\r\n                if (!Object.prototype.hasOwnProperty.call(tagsToIgnore, parsedTag[0])) { \r\n                    dictParsedTags[parsedTag[0]] = tagValue;\r\n                }\r\n        } \r\n    });\r\n\r\n    return dictParsedTags;\r\n}\r\nfunction parseCommand(rawCommandComponent) {\r\n    let parsedCommand = null;\r\n    let commandParts = rawCommandComponent.split(' ');\r\n\r\n    switch (commandParts[0]) {\r\n        case 'JOIN':\r\n        case 'PART':\r\n        case 'NOTICE':\r\n        case 'CLEARCHAT':\r\n        case 'CLEARMSG':\r\n        case 'HOSTTARGET':\r\n        case 'PRIVMSG':\r\n            parsedCommand = {\r\n                command: commandParts[0],\r\n                channel: commandParts[1]\r\n            }\r\n            break;\r\n        case 'PING':\r\n            parsedCommand = {\r\n                command: commandParts[0]\r\n            }\r\n            break;\r\n        case 'CAP':\r\n            parsedCommand = {\r\n                command: commandParts[0],\r\n                isCapRequestEnabled: (commandParts[2] === 'ACK') ? true : false,\r\n                // The parameters part of the messages contains the \r\n                // enabled capabilities.\r\n            }\r\n            break;\r\n        case 'GLOBALUSERSTATE':  // Included only if you request the /commands capability.\r\n                                 // But it has no meaning without also including the /tags capability.\r\n            parsedCommand = {\r\n                command: commandParts[0]\r\n            }\r\n            break;               \r\n        case 'USERSTATE':   // Included only if you request the /commands capability.\r\n        case 'ROOMSTATE':   // But it has no meaning without also including the /tags capabilities.\r\n            parsedCommand = {\r\n                command: commandParts[0],\r\n                channel: commandParts[1]\r\n            }\r\n            break;\r\n        case 'RECONNECT':  \r\n            parsedCommand = {\r\n                command: commandParts[0]\r\n            }\r\n            break;\r\n        case '421':\r\n            return null;\r\n        case '001':  // Logged in (successfully authenticated). \r\n            parsedCommand = {\r\n                command: commandParts[0],\r\n                channel: commandParts[1]\r\n            }\r\n            break;\r\n        case '002':  // Ignoring all other numeric messages.\r\n        case '003':\r\n        case '004':\r\n        case '353':  // Tells you who else is in the chat room you're joining.\r\n        case '366':\r\n        case '372':\r\n        case '375':\r\n        case '376':\r\n            return null;\r\n        default:\r\n            return null;\r\n    }\r\n\r\n    return parsedCommand;\r\n} \r\nfunction parseSource(rawSourceComponent) {\r\n    if (null == rawSourceComponent) {  // Not all messages contain a source\r\n        return null;\r\n    }\r\n    else {\r\n        let sourceParts = rawSourceComponent.split('!');\r\n        return {\r\n            nick: (sourceParts.length == 2) ? sourceParts[0] : null,\r\n            host: (sourceParts.length == 2) ? sourceParts[1] : sourceParts[0]\r\n        }\r\n    }\r\n}\r\nfunction parseParameters(rawParametersComponent, command) {\r\n    let idx = 0\r\n    let commandParts = rawParametersComponent.slice(idx + 1).trim(); \r\n    let paramsIdx = commandParts.indexOf(' ');\r\n\r\n    if (-1 == paramsIdx) { // no parameters\r\n        command.botCommand = commandParts.slice(0); \r\n    }\r\n    else {\r\n        command.botCommand = commandParts.slice(0, paramsIdx); \r\n        command.botCommandParams = commandParts.slice(paramsIdx).trim();\r\n        // TODO: remove extra spaces in parameters string\r\n    }\r\n\r\n    return command;\r\n}\r\n\r\nvar chat = {\r\n    parseMessage(message) {\r\n\r\n        let parsedMessage = {  // Contains the component parts.\r\n            tags: null,\r\n            source: null,\r\n            command: null,\r\n            parameters: null,\r\n            action: false,\r\n        };\r\n    \r\n        // The start index. Increments as we parse the IRC message.\r\n    \r\n        let idx = 0; \r\n    \r\n        // The raw components of the IRC message.\r\n    \r\n        let rawTagsComponent = null;\r\n        let rawSourceComponent = null; \r\n        let rawCommandComponent = null;\r\n        let rawParametersComponent = null;\r\n    \r\n        // If the message includes tags, get the tags component of the IRC message.\r\n    \r\n        if (message[idx] === '@') {  // The message includes tags.\r\n            let endIdx = message.indexOf(' ');\r\n            rawTagsComponent = message.slice(1, endIdx);\r\n            idx = endIdx + 1; // Should now point to source colon (:).\r\n        }\r\n    \r\n        // Get the source component (nick and host) of the IRC message.\r\n        // The idx should point to the source part; otherwise, it's a PING command.\r\n    \r\n        if (message[idx] === ':') {\r\n            idx += 1;\r\n            let endIdx = message.indexOf(' ', idx);\r\n            rawSourceComponent = message.slice(idx, endIdx);\r\n            idx = endIdx + 1;  // Should point to the command part of the message.\r\n        }\r\n    \r\n        // Get the command component of the IRC message.\r\n    \r\n        let endIdx = message.indexOf(':', idx);  // Looking for the parameters part of the message.\r\n        if (-1 == endIdx) {                      // But not all messages include the parameters part.\r\n            endIdx = message.length;                 \r\n        }\r\n    \r\n        rawCommandComponent = message.slice(idx, endIdx).trim();\r\n    \r\n        // Get the parameters component of the IRC message.\r\n    \r\n        if (endIdx != message.length) {  // Check if the IRC message contains a parameters component.\r\n            idx = endIdx + 1;            // Should point to the parameters part of the message.\r\n            rawParametersComponent = message.slice(idx);\r\n        }\r\n    \r\n        // Parse the command component of the IRC message.\r\n    \r\n        parsedMessage.command = parseCommand(rawCommandComponent);\r\n    \r\n        // Only parse the rest of the components if it's a command\r\n        // we care about; we ignore some messages.\r\n    \r\n        if (null == parsedMessage.command) {  // Is null if it's a message we don't care about.\r\n            return null; \r\n        }\r\n        else {\r\n            if (null != rawTagsComponent) {  // The IRC message contains tags.\r\n                parsedMessage.tags = parseTags(rawTagsComponent);\r\n            }\r\n    \r\n            parsedMessage.source = parseSource(rawSourceComponent);\r\n    \r\n            parsedMessage.parameters = rawParametersComponent;\r\n            if (rawParametersComponent && rawParametersComponent[0] === '!') {  \r\n                // The user entered a bot command in the chat window.            \r\n                parsedMessage.command = parseParameters(rawParametersComponent, parsedMessage.command);\r\n            }\r\n        }\r\n\r\n        if (parsedMessage.parameters) {\r\n            if (parsedMessage.parameters.split(\" \")[0] == \"\\x01ACTION\") parsedMessage.action = true;\r\n            parsedMessage.parameters = parsedMessage.parameters.replace(\"\u0001ACTION\", \"\")\r\n            parsedMessage.parameters = parsedMessage.parameters.replace(\"\u0001\", \"\")\r\n        }\r\n    \r\n        return parsedMessage;\r\n    },\r\n}\r\n\r\nexport default chat","import chat from '@/utils/chat.js'\r\n\r\n// const wait = async(ms) => {\r\n//     return new Promise((resolve) => {\r\n//         setTimeout(resolve, ms);\r\n//     });\r\n// };\r\n\r\nexport default class Twitch {\r\n    constructor(channel) {\r\n        this.ws = null\r\n        this.IsDisconnected = true\r\n        this.ManuallyClosed = false\r\n\r\n        this.channel = channel\r\n        this.channelID = null\r\n\r\n        this.OnUserId = null\r\n        this.OnPrivateMessage = null\r\n        this.OnClearChat = null\r\n        this.OnClearMessage = null\r\n    }\r\n\r\n    connect() {\r\n        if (!this.IsDisconnected) {\r\n            return\r\n        }\r\n\r\n        this.ws = new WebSocket(\"wss://irc-ws.chat.twitch.tv:443\");\r\n        this.ws.onmessage = (e) => this.onMessage(e)\r\n        this.ws.onopen = () => this.onOpen()\r\n        this.ws.onerror = () => this.onError()\r\n        this.ws.onclose = () => this.onClose()\r\n    }\r\n\r\n    part(channel) {\r\n      this.ws.send(`PART #${channel}`)\r\n    }\r\n\r\n    join(channel) {\r\n      this.ws.send(`PART #${channel}`)\r\n    }\r\n\r\n    disconnect() {\r\n      if (this.ws != null) {\r\n        this.ManuallyClosed = true\r\n        this.ws.close()\r\n      }\r\n    }\r\n\r\n    Disconnect() {\r\n      this.ws.close()\r\n    }\r\n\r\n    async onError() {\r\n        if (this.ManuallyClosed) return \r\n        console.log(\"Connection error occured, disconnecting...\")\r\n        this.ws.close()\r\n    }\r\n\r\n    async onClose() {\r\n        if (!this.ManuallyClosed) {\r\n          console.log(\"Disconnected, attempting to reconnect...\")\r\n          if ([\"t2x2\", \"shampan0v\", \"rj_st\", \"redfeed_sa\"].includes(this.channel)) { // for logs\r\n            this.OnPrivateMessage({\"tags\":{\"badge-info\":null,\"badges\":{},\"color\":\"#FFFFFF\",\"display-name\":\"System\",\"emotes\":null,\"first-msg\":\"0\",\"id\":\"4e9b10fb-7e80-46b5-9652-efc894188334\",\"mod\":\"0\",\"returning-chatter\":\"0\",\"room-id\":\"22484632\",\"subscriber\":\"0\",\"tmi-sent-ts\":\"1680165804876\",\"turbo\":\"0\",\"user-id\":\"407046453\",\"user-type\":null},\"source\":{\"nick\":\"System\",\"host\":\"rj_st@rj_st.tmi.twitch.tv\"},\"command\":{\"command\":\"PRIVMSG\",\"channel\":\"#forsen\"},\"parameters\":\"[TWITCH] Disconnected\",\"BG\":\"0\"})\r\n          }\r\n          this.IsDisconnected = true\r\n          \r\n          setTimeout(() => {this.connect()}, 1000);\r\n        } \r\n    }\r\n\r\n    async onOpen() {\r\n        console.log(\"1232132312\")\r\n        this.IsDisconnected = false;\r\n        this.ws.send(\"NICK justinfan1337\")\r\n        this.ws.send(\"JOIN #\" + this.channel.toLowerCase());\r\n        this.ws.send('CAP REQ :twitch.tv/tags twitch.tv/commands')\r\n    }\r\n\r\n    async onMessage(e) {\r\n        let messages = e.data.split(\"\\r\\n\")\r\n\r\n        messages.forEach(message => {\r\n          let payload = chat.parseMessage(message)\r\n          if (!payload) {\r\n            return\r\n          }\r\n\r\n          switch (payload.command.command) {\r\n              // announce - USERNOTICE\r\n              // нужно добавить реконнект\r\n              case \"CLEARCHAT\":\r\n                this.OnClearChat(payload)\r\n                // this.Messages = this.Messages.filter(item => item.source.nick !== payload.parameters)\r\n                break\r\n              case \"CLEARMSG\":\r\n                this.OnClearMessage(payload)\r\n                // this.Messages = this.Messages.filter(item => item.tags[\"id\"] !== payload.tags[\"target-msg-id\"])\r\n                break\r\n              case \"PRIVMSG\":\r\n                  if (this.channelID == null) {\r\n                    this.channelID = payload.tags[\"room-id\"]\r\n                    this.OnUserId(payload.tags[\"room-id\"])\r\n                  }\r\n                  this.OnPrivateMessage(payload)\r\n                  break;\r\n              case \"PING\":\r\n                  this.ws.send(`PONG ${payload.message}`)\r\n          }\r\n        })\r\n    }\r\n}"],"names":["wellKnownSymbol","create","defineProperty","UNSCOPABLES","ArrayPrototype","Array","prototype","undefined","configurable","value","module","exports","key","makeBuiltIn","target","name","descriptor","get","getter","set","setter","f","getBuiltIn","activeXDocument","anObject","definePropertiesModule","enumBugKeys","hiddenKeys","html","documentCreateElement","sharedKey","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","Object","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","appendChild","src","String","contentWindow","document","open","F","NullProtoObject","ActiveXObject","error","domain","length","O","Properties","result","DESCRIPTORS","V8_PROTOTYPE_DEFINE_BUG","definePropertyModule","toIndexedObject","objectKeys","defineProperties","props","keys","index","internalObjectKeys","that","this","hasIndices","global","ignoreCase","multiline","dotAll","unicode","unicodeSets","sticky","$","toObject","lengthOfArrayLike","toIntegerOrInfinity","addToUnscopables","proto","at","len","relativeIndex","k","defineBuiltInAccessor","regExpFlags","fails","RegExp","RegExpPrototype","FORCED","INDICES_SUPPORT","calls","expected","addGetter","chr","pairs","getOwnPropertyDescriptor","call","uncurryThis","requireObjectCoercible","toString","charAt","forced","S","Colour","hex","r","g","b","a","hex2rgba","x","y","z","rgb2xyz","xyz2lab","l","lab2xyz","xyz2rgba","c","substring","split","Error","join","Math","pow","varX","varY","varZ","varR","varG","varB","round","referenceX","referenceY","referenceZ","l1","a1","b1","l2","a2","b2","rad2deg","rad","PI","deg2rad","deg","avgL","c1","sqrt","c2","avgC","a1p","a2p","c1p","c2p","avgCp","h1p","atan2","h2p","avghp","abs","t","cos","deltahp","deltalp","deltacp","sin","sl","sc","sh","deltaro","exp","rc","rt","kl","kc","kh","deltaE","darkenPercentage","rgba2lab","lab2rgba","brighterPercentage","componentToHex","hexToRgb","exec","parseInt","Common","textToMessageObject","text","m","trim","push","getEmote","emotes","em","Name","getEmoteTwitch","magnitude","vector","sum","i","dot_product","vector1","vector2","DecimalToStringRGBA","num","toFixed","toGray","color","rgb","pSBC","p","c0","P","h","pSBCr","d","n","slice","parseFloat","rgbToHex","parse_smiles","message","smiles","replace","entries","smile","Huita","async","set_id","response","fetch","ok","json","emote","id","flags","owner","username","ms","Promise","resolve","setTimeout","func","args","attempts","console","log","wait","channel","badges","vers","finalVersions","status","user_id","subscriber","badge_sets","paints","users","urls","Type","code","mod_badge","vip_badge","room","mod_urls","parseTags","tags","tagsToIgnore","dictParsedTags","parsedTags","forEach","tag","parsedTag","tagValue","dict","pair","badgeParts","dictEmotes","emoteParts","textPositions","positions","position","positionParts","startPosition","endPosition","emoteSetIds","hasOwnProperty","parseCommand","rawCommandComponent","parsedCommand","commandParts","command","isCapRequestEnabled","parseSource","rawSourceComponent","sourceParts","nick","host","parseParameters","rawParametersComponent","idx","paramsIdx","indexOf","botCommand","botCommandParams","chat","parseMessage","parsedMessage","source","parameters","action","rawTagsComponent","endIdx","Twitch","constructor","ws","IsDisconnected","ManuallyClosed","channelID","OnUserId","OnPrivateMessage","OnClearChat","OnClearMessage","connect","WebSocket","onmessage","e","onMessage","onopen","onOpen","onerror","onError","onclose","onClose","part","send","disconnect","Disconnect","includes","toLowerCase","messages","data","payload"],"sourceRoot":""}