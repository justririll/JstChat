{"version":3,"file":"js/73.5dbdb805.js","mappings":"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","sources":["webpack://chat/./src/views/main.vue","webpack://chat/./src/components/ChatMessage_example.vue","webpack://chat/./src/components/ChatMessage_example.vue?cf30","webpack://chat/./src/views/main.vue?544f"],"sourcesContent":["<style>\r\n  #main {\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    font-family: 'Roboto', sans-serif;\r\n\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n\r\n    overflow: auto;\r\n    \r\n    background: rgb(46, 46, 46);\r\n    color: white;\r\n  }\r\n\r\n  button {\r\n    width: 5vw;\r\n    font-size: 3vh;\r\n    border: 1px solid black;\r\n    background-color: #494949;\r\n    color: white;\r\n    border-radius: 8px;\r\n    margin-left: 0.5vw;\r\n  }\r\n\r\n  .out_url {\r\n    width: 30vw;\r\n  }\r\n  #out {\r\n    margin-left: 25vw;\r\n    margin-top: 20vh;\r\n  }\r\n\r\n  .setting-bottom {\r\n    width: 10vw;\r\n    display: inline-block;\r\n    margin-left: 12vw;\r\n    padding-top: 10vh;\r\n  }\r\n  input {\r\n      width: 14vw;\r\n      height: 4vh;\r\n      background-color: #494949;\r\n      color: white;\r\n      border: 1px solid black;\r\n      border-radius: 8px;\r\n      font-size: 3vh;\r\n      text-align: center;\r\n  }\r\n\r\n  select {\r\n    width: 5vw;\r\n    height: 4vh;\r\n    background-color: #494949;\r\n    color: white;\r\n    border: 1px solid black;\r\n    border-radius: 8px;\r\n    font-size: 3vh;\r\n    text-align: center;\r\n  }\r\n\r\n  .setting {\r\n    display: inline-block;\r\n    margin-left: 3.5vw;\r\n    margin-top: 6vh;\r\n    text-align: center;\r\n  }\r\n\r\n  .checkbox {\r\n    width: 3vw;\r\n    height: 3vh;\r\n  }\r\n\r\n  .chat {\r\n    width: 25%;\r\n    height: 100%;\r\n    position: fixed;\r\n\r\n    bottom: 0;\r\n\r\n    overflow: hidden;\r\n\r\n    user-select: none;\r\n\r\n  }\r\n\r\n  .author {\r\n    /* min-width: 600px; */\r\n\r\n    border-left: 4px solid black;\r\n\r\n    width: 75%;\r\n    height: 10%;\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 25%;\r\n\r\n    font-size: 1.5vh;\r\n  }\r\n  .author-name {\r\n    text-align: center;\r\n    vertical-align:middle;\r\n    padding-top: 2vh;\r\n  }\r\n\r\n  .settings {\r\n    border-left: 4px solid black;\r\n\r\n    width: 75%;\r\n    height: 90%;\r\n    position: fixed;\r\n    bottom: 10%;\r\n    left: 25%;\r\n\r\n    overflow: auto;\r\n  }\r\n\r\n  a {\r\n    color: white;\r\n  }\r\n\r\n  .debug-description {\r\n    text-align: center;\r\n    vertical-align:middle;\r\n    padding-top: 6vh;\r\n    font-size: 30px;\r\n  }\r\n\r\n  .mes {\r\n    width: 100%;\r\n  }\r\n\r\n  #channel-select {\r\n    margin-left: 25vw;\r\n    margin-top: 2vh;\r\n  }\r\n\r\n  .github-page {\r\n    text-align: right;\r\n    padding-top: 2vh;\r\n    padding-right: 2vw;\r\n  }\r\n\r\n  #style-select {\r\n    margin-left: 30vw;\r\n    margin-top: 2vh;\r\n  }\r\n</style>\r\n\r\n<template>\r\n<div id=\"main\">\r\n\r\n    <div style=\"background-color: rgb(64 64 64);\" class=\"chat\" ref=\"chat\">\r\n          <ChatMessage class=\"mes\" v-for=\"mes in Messages\" :key=\"mes\"\r\n          :Emotes=\"Emotes\" :Paints=\"Paints\" :GlobalBadges=\"GlobalBadges\"\r\n          :payload=\"mes\" :BG=\"BG\" :BG2=\"BG2\" :paintsEnabled=\"paintsEnabled\" \r\n          :font_size=\"fontSize\" :interpolateSize=\"interpolateSize\"\r\n          :OtherBadges=\"OtherBadges\" :defaultColors=\"defaultColors\"\r\n          :SmoothColors=\"SmoothColors\" :border=\"Border\" :shadowText=\"textShadow\"/>\r\n    </div>\r\n\r\n    <div style=\"background-color: #3a3a3a;\" class=\"author\">\r\n\r\n      <div class=\"author-name\">\r\n        Made by JustRirill (rj_st) <br>\r\n        Github link <a href=\"https://github.com/justririll/JstChat\" target=\"_blank\">here</a> <br>\r\n        This application is not affiliated with Twitch\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"settings\">\r\n\r\n      <div class=\"setting\" id=\"channel-select\">\r\n        <div class=\"setting-name\">Channel name</div>\r\n        <input type=\"text\" :value=\"selectedChannel\" v-on:input=\"onChangeChannel\">\r\n      </div>\r\n      <button :onClick=\"join\">Join</button>\r\n\r\n      <br>\r\n\r\n      <div class=\"setting\" id=\"style-select\">\r\n        <div class=\"setting-name\">Style</div>\r\n        <select @change=\"changeStyle\">\r\n          <option value=\"1\">1</option>\r\n          <option value=\"2\">2</option>\r\n        </select>\r\n      </div>\r\n\r\n      <br>\r\n\r\n      <div class=\"setting\">\r\n        <div class=\"setting-name\">Font size</div>\r\n        <input type=\"number\" :value=\"fontSize\" min=\"4\" max=\"50\" v-on:input=\"onChangeFontSize\">\r\n      </div>\r\n\r\n      <div class=\"setting\">\r\n        <div class=\"setting-name\">Background color <br> (in hex)</div>\r\n        <input onclick=\"this.select();\" type=\"text\" :value=\"BG\" v-on:input=\"onChangeBG\">\r\n      </div>\r\n\r\n      <div class=\"setting\">\r\n        <div class=\"setting-name\">7TV paints</div>\r\n        <input class=\"checkbox\" type=\"checkbox\" :value=\"paintsEnabled\" v-on:input=\"onChangePaints\" checked>\r\n      </div>\r\n\r\n      <div class=\"setting\">\r\n        <div class=\"setting-name\">Make some colors readable <br> (only if background not transparent)</div>\r\n        <input class=\"checkbox\" type=\"checkbox\" :value=\"SmoothColors\" v-on:input=\"onChangeSmooth\" checked>\r\n      </div>\r\n\r\n      <div class=\"setting\">\r\n        <div class=\"setting-name\">Border</div>\r\n        <input class=\"checkbox\" type=\"checkbox\" :value=\"Border\" v-on:input=\"onChangeBorder\" checked>\r\n      </div>\r\n\r\n      <div class=\"setting\">\r\n        <div class=\"setting-name\">7TV personal emotes <br> (will not work without eventapi)</div>\r\n        <input class=\"checkbox\" type=\"checkbox\" :value=\"pEmotes\" v-on:input=\"onChangepEmotes\" checked>\r\n      </div>\r\n\r\n      <div class=\"setting\">\r\n        <div class=\"setting-name\">7TV event api</div>\r\n        <input class=\"checkbox\" type=\"checkbox\" :value=\"eventApi\" v-on:input=\"onChangeEventApi\" checked>\r\n      </div>\r\n\r\n      <br>\r\n      <br>\r\n\r\n      <div class=\"setting\" id=\"out\">\r\n        <div class=\"setting-name\">Your URL:</div>\r\n        <input onclick=\"this.select();\" class=\"out_url\" type=\"text\" :value=\"out_url\" readonly>\r\n      </div>\r\n\r\n    </div>\r\n    \r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ChatMessage from '@/components/ChatMessage_example.vue'\r\nimport Common from '@/methods/common'\r\nimport Twitch from '@/methods/twitch.js'\r\nimport apis from '@/methods/tpd.js'\r\n\r\nexport default {\r\n    name: 'main-page',\r\n    components: {\r\n      ChatMessage\r\n    },\r\n    data() {\r\n      return {\r\n        paintsEnabled: \"1\",\r\n        fontSize: \"18\",\r\n        interpolateSize: \"1\",\r\n        SmoothColors: \"1\",\r\n        Border: \"2\",\r\n        pEmotes: \"1\",\r\n        eventApi: \"1\",\r\n        textShadow: \"0\",\r\n        \r\n        altBG: true,\r\n        BG: \"#2b2b2b\",\r\n        BG2: \"\",\r\n\r\n        PersonalEmotes: {},\r\n\r\n        GlobalBadges: [],\r\n        OtherBadges: [],\r\n        Messages: [],\r\n        Emotes: [],\r\n        Badges: {},\r\n        Paints: [],\r\n\r\n        //\r\n        currBG: true,\r\n\r\n        channel: \"\", // this is channel for websocket\r\n        selectedChannel: \"\", // this is channel from input, for url generating\r\n\r\n        client: null,\r\n        evenapi: null,\r\n\r\n        defaultColors: [\"#4242f7\", \"#ff7f50\", \"#1e90ff\", \"#00ff7f\", \"#9acd32\", \"#008000\", \"#ff4500\", \"#ff0000\", \"#daa520\", \"#ff69b4\", \"#5f9ea0\", \"#2e8b57\", \"#d2691e\", \"#a065d7\", \"#b22222\"],\r\n      }\r\n    },\r\n    updated() {\r\n      this.$refs.chat.scrollTo(0,this.$refs.chat.scrollHeight);\r\n      if (this.Messages.length > 25) {\r\n        this.Messages.shift()\r\n      }\r\n    },\r\n    created: async function() {\r\n      // this we need to put in bg setting update\r\n      if (this.BG != \"#2b2b2b\" && this.BG != \"transparent\") {\r\n          this.BG = \"#\" + this.BG\r\n        }\r\n\r\n      // alt bg creation:\r\n      if (this.altBG && this.BG != \"transparent\") {\r\n        let minus = 1\r\n        let gray = Common.toGray(this.BG) \r\n        if (gray > 0.38) {\r\n          minus = -30/gray\r\n        }\r\n        this.BG2 = Common.pSBC(0.01*minus, this.BG)\r\n      } else if (this.BG == \"transparent\") {\r\n        this.BG2 = \"transparent\"\r\n      }\r\n\r\n      await this.create_client()\r\n    },\r\n    methods: {\r\n      changeStyle(event) {\r\n        switch (event.target.value.trim()) {\r\n          case \"1\":\r\n            this.Border = \"2\"\r\n\r\n            this.BG = \"#2b2b2b\"\r\n            this.BG2 = \"#323232\"\r\n\r\n            this.SmoothColors = \"1\"\r\n\r\n            this.textShadow = \"0\"\r\n            break;\r\n        \r\n          case \"2\":\r\n            this.Border = \"0\"\r\n\r\n            this.BG = \"transparent\"\r\n            this.BG2 = \"transparent\"\r\n\r\n            this.SmoothColors = \"0\"\r\n\r\n            this.textShadow = \"1\"\r\n            break;\r\n        }\r\n      },\r\n\r\n      onChangeChannel(event) {\r\n        this.selectedChannel = event.target.value.trim().toLowerCase()\r\n      },\r\n      onChangeFontSize(event) {\r\n        let i = parseInt(event.target.value.trim())\r\n        if (i > 0 && i <= 50) this.fontSize = event.target.value.trim()\r\n      },\r\n      onChangepEmotes() {\r\n        this.pEmotes = this.pEmotes.trim() == \"1\" ? \"0\" : \"1\"\r\n      },\r\n      onChangeBorder() {\r\n        this.Border = this.Border.trim() == \"2\" ? \"0\" : \"2\"\r\n      },\r\n      onChangeBG(event) {\r\n        let newBG =event.target.value.trim()\r\n        if (newBG == \"transparent\" || newBG == \"none\" || newBG == \"\") {\r\n          this.BG = \"transparent\"\r\n          this.BG2 = \"transparent\"\r\n        } else if (newBG.length == 7 && newBG.substring(0, 1) == \"#\") {\r\n          try {\r\n            this.BG = newBG\r\n            let minus = 1\r\n            let gray = Common.toGray(this.BG)\r\n            if (gray > 0.38) {\r\n              minus = -30/gray\r\n            }\r\n            this.BG2 = Common.pSBC(0.01*minus, this.BG)\r\n          } catch(e) {\r\n            // pass\r\n          }\r\n        }\r\n      },\r\n      onChangePaints() {\r\n        this.paintsEnabled = this.paintsEnabled.trim() == \"1\" ? \"0\" : \"1\"\r\n      },\r\n      onChangeInterpolate() {\r\n        this.interpolateSize = this.interpolateSize.trim() == \"1\" ? \"0\" : \"1\"\r\n      },\r\n      onChangeSmooth() {\r\n        this.SmoothColors = this.SmoothColors.trim() == \"1\" ? \"0\" : \"1\"\r\n      },\r\n      onChangeEventApi() {\r\n        this.eventApi = this.eventApi.trim() == \"1\" ? \"0\" : \"1\"\r\n      },\r\n\r\n      async join() {\r\n        if (this.selectedChannel != \"\" && this.selectedChannel != this.channel) {\r\n          // this.client.part(this.channel)\r\n          this.channel = this.selectedChannel\r\n          await this.create_client()\r\n        }\r\n      },\r\n\r\n      async create_client() {\r\n        this.Emotes = []\r\n        this.Messages = []\r\n        this.Badges = []\r\n\r\n        if (this.client != null) {\r\n          this.client.disconnect()\r\n        }\r\n        this.channelID = null\r\n        this.client = new Twitch(this.channel)\r\n\r\n        this.client.OnUserId = this.onUserID\r\n        this.client.OnPrivateMessage = async (payload) => {\r\n          payload.BG = 0\r\n          if (this.altBG) {\r\n            payload.BG = this.currBG ? 0 : 1\r\n            this.currBG = !this.currBG\r\n          }\r\n          // payload.tags.color = undefined\r\n          payload.PersonalEmotes = undefined\r\n          if (payload.source.nick in this.PersonalEmotes) {\r\n            payload.PersonalEmotes = this.PersonalEmotes[payload.source.nick]\r\n          }\r\n          this.Messages.push(payload)\r\n        }\r\n        this.client.OnClearChat = async (payload) => {\r\n          this.Messages = this.Messages.filter(item => item.source.nick !== payload.parameters)\r\n        }\r\n        this.client.OnClearMessage = async (payload) => {\r\n          this.Messages = this.Messages.filter(item => item.tags[\"id\"] !== payload.tags[\"target-msg-id\"])\r\n        }\r\n\r\n        let gb = await apis.RetryOnError(apis.getGlobalBadges, [], 3)\r\n        if (this.GlobalBadges[\"subscriber\"]) {\r\n          gb[\"subscriber\"] = this.GlobalBadges[\"subscriber\"]\r\n        }\r\n        this.GlobalBadges = gb\r\n        let bp = await apis.RetryOnError(apis.get7tvBadgesPaints, [], 3)\r\n        this.OtherBadges = bp[0]\r\n        this.Paints = bp[1]\r\n\r\n        if (this.channel != \"\") {\r\n          this.client.connect()\r\n          this.Emotes = this.Emotes.concat(await apis.RetryOnError(apis.get7tvGlobalEmotes, [], 3))\r\n          console.log(\"loaded 7tv global emotes\")\r\n          this.Emotes = this.Emotes.concat(await apis.RetryOnError(apis.getBttvGlobalEmotes, [], 3))\r\n          console.log(\"loaded bttv global emotes\")\r\n          this.Emotes = this.Emotes.concat(await apis.RetryOnError(apis.getFfzEmotes, [this.channel], 3))\r\n          console.log(\"loaded ffz channel emotes\")\r\n          this.Emotes = this.Emotes.concat(await apis.RetryOnError(apis.getFfzGlobalEmotes, [], 3))\r\n          console.log(\"loaded ffz global emotes\")\r\n        } else {\r\n          this.Emotes = this.Emotes.concat(await apis.RetryOnError(apis.get7tvGlobalEmotes, [], 3))\r\n          this.Messages.push({\"tags\":{\"badge-info\":null,\"badges\":{\"game-developer\":\"1\"},\"color\":\"#FFFFFF\",\"display-name\":\"rj_st\",\"emotes\":null,\"first-msg\":\"0\",\"id\":\"4e9b10fb-7e80-46b5-9652-efc894188334\",\"mod\":\"0\",\"returning-chatter\":\"0\",\"room-id\":\"22484632\",\"subscriber\":\"0\",\"tmi-sent-ts\":\"1680165804876\",\"turbo\":\"0\",\"user-id\":\"407046453\",\"user-type\":null},\"source\":{\"nick\":\"rj_st\",\"host\":\"rj_st@rj_st.tmi.twitch.tv\"},\"command\":{\"command\":\"PRIVMSG\",\"channel\":\"#forsen\"},\"parameters\":\"ApuApustaja TeaTime\",\"BG\":\"0\"})\r\n          this.Messages.push({\"tags\":{\"badge-info\":null,\"badges\":{\"game-developer\":\"1\"},\"color\":\"#FFFFFF\",\"display-name\":\"rj_st\",\"emotes\":null,\"first-msg\":\"0\",\"id\":\"4e9b10fb-7e80-46b5-9652-efc894188334\",\"mod\":\"0\",\"returning-chatter\":\"0\",\"room-id\":\"22484632\",\"subscriber\":\"0\",\"tmi-sent-ts\":\"1680165804876\",\"turbo\":\"0\",\"user-id\":\"407046453\",\"user-type\":null},\"source\":{\"nick\":\"rj_st\",\"host\":\"rj_st@rj_st.tmi.twitch.tv\"},\"command\":{\"command\":\"PRIVMSG\",\"channel\":\"#forsen\"},\"parameters\":\"ApuApustaja TeaTime\",\"BG\":\"1\"})\r\n          // this.Messages.push({\"tags\":{\"badge-info\":{\"subscriber\":\"33\"},\"badges\":{\"vip\":\"1\",\"subscriber\":\"24\"},\"color\":\"#66CDAA\",\"display-name\":\"Aroldas1\",\"emotes\":null,\"first-msg\":\"0\",\"id\":\"a6e4ccf3-98fe-437a-9318-d87b3591f8a5\",\"mod\":\"0\",\"returning-chatter\":\"0\",\"room-id\":\"48189727\",\"subscriber\":\"1\",\"tmi-sent-ts\":\"1680348603142\",\"turbo\":\"0\",\"user-id\":\"69078167\",\"user-type\":null,\"vip\":\"1\"},\"source\":{\"nick\":\"aroldas1\",\"host\":\"aroldas1@aroldas1.tmi.twitch.tv\"},\"command\":{\"command\":\"PRIVMSG\",\"channel\":\"#t2x2\"},\"parameters\":\"ApuApustaja TeaTime\",\"BG\":\"0\"})\r\n        }\r\n      }, \r\n      async get7tvchannel() {\r\n        let stv = await apis.RetryOnError(apis.get7tvEmotes, [this.channelID], 3)\r\n        if (stv.length > 0) {\r\n          console.log(\"loaded seventv channel\")\r\n          this.Emotes = this.Emotes.concat(stv[0])\r\n\r\n          // initializing event api\r\n          // if (this.useEventAPI) {\r\n          //   this.EventApi = new EventApi(stv[1], this.channelID, this.onEmoteAdd, this.onEmoteRename)\r\n\r\n          //   this.EventApi.onDelete = this.onEmoteDelete\r\n          //   this.EventApi.onAdd = this.onEmoteAdd\r\n          //   this.EventApi.onRename = this.onEmoteRename\r\n\r\n          //   this.EventApi.onPersonalEmotes = this.onPersonalEmotes\r\n\r\n          //   this.EventApi.Connect()\r\n          // }\r\n        }\r\n      },\r\n      async getbttvchannel() {\r\n        this.Emotes = this.Emotes.concat(await await apis.RetryOnError(apis.getBttvEmotes, [this.channelID], 3))\r\n      },\r\n      async getsubscriberbadges() {\r\n        let subs = await apis.RetryOnError(apis.getSubscriberBadges, [this.channelID], 3)\r\n        if (subs) {\r\n          this.GlobalBadges[\"subscriber\"] = subs\r\n          console.log(\"loaded sub badges\")\r\n        }\r\n      },\r\n      async onUserID(id) {\r\n          console.log(this.channelID)\r\n          if (this.channelID == null) {\r\n            this.channelID = id\r\n\r\n            // a\r\n            await this.getbttvchannel()\r\n            await this.get7tvchannel()\r\n            await this.getsubscriberbadges()\r\n          }\r\n        }\r\n    },\r\n    computed: {\r\n      out_url() {\r\n        let additional_query = \"\"\r\n        if (this.selectedChannel != \"\") {\r\n          if (this.fontSize != 18) additional_query += `&font_size=${this.fontSize}`\r\n          if (this.BG != \"#2b2b2b\") additional_query += `&background=${this.BG != \"transparent\" ? this.BG.substring(1) : this.BG}`\r\n          if (this.paintsEnabled != \"1\") additional_query += `&paints=0`\r\n          if (this.SmoothColors != \"1\") additional_query += `&smoothcolor=0`\r\n          if (this.Border != \"2\") additional_query += `&border=0`\r\n          if (this.pEmotes != \"1\") additional_query += `&pemotes=0`\r\n          if (this.eventApi != \"1\") additional_query += `&eventapi=0`\r\n          if (this.textShadow != \"0\") additional_query += `&shadowtext=1`\r\n          return `${location.toString()}chat?channel=${this.selectedChannel}${additional_query}`\r\n        }\r\n        return `No channel!`\r\n      },\r\n    }\r\n}\r\n</script>","<template>\n  <div class=\"ChatMessage\" :bg=\"payload.BG\">\n    <div v-for=\"badge in Badges\" :key=\"badge\" class=\"Badge\">\n        <img :src=\"badge.Url\">\n    </div>\n    <span>\n      <span :HavePaints=\"HavePaints\" v-if=\"displayName.toLowerCase() == this.payload.source.nick\" class=\"message-nick\" :style=\"{color: color, backgroundImage: bgImage}\">{{ displayName }}: </span>\n      <span :HavePaints=\"HavePaints\" v-if=\"displayName.toLowerCase() != this.payload.source.nick\" class=\"message-nick\" :style=\"{color: color, backgroundImage: bgImage}\">{{this.payload.source.nick}} ({{ displayName }}): </span>\n      <span class=\"message-text\">\n        <template v-for=\"mes in FinalMessage\" :key=\"mes\">\n          <img v-if=\"mes.Type=='emote'\" :src=\"mes.Text\" :ZeroWidth=\"mes.ZeroWidth\">\n          <template v-if=\"mes.Type=='text'\">{{mes.Text}}</template>\n        </template>  \n      </span>\n    </span>\n  </div>\n</template>\n\n<script>\nimport Common from '@/methods/common'\nimport ColourDistance from '@/methods/colour'\n\n// @todo: zero-width emotes\n\nexport default {\nname: 'ChatMessage',\ndata() {\n  return {\n    EmotesBaseUrl: {\n      \"7TV\": \"https://cdn.7tv.app/emote/{0}/2x.webp\",\n      \"BTTV\": \"https://cdn.betterttv.net/emote/{0}/2x\",\n      \"FFZ\": \"https://cdn.frankerfacez.com/emote/{0}/2\",\n      \"TWITCH\": \"\"\n    },\n    Paint: null,\n    HavePaints: false,\n    displayName: \"\",\n\n    dot : 0,\n\n    mes_BG : \"\",\n\n    Badges: [],\n  }\n},\nprops: {\n  Emotes: Array,\n  OtherBadges: Array,\n  GlobalBadges: Object,\n  Paints: Array,\n  font_size: String,\n  shadowText: String,\n  paintsEnabled: String,\n  interpolateSize: String,\n\n  SmoothColors: String,\n\n  defaultColors: Array,\n\n  payload: Object,\n  BG: String,\n  BG2: String,\n\n  border: String,\n},\ncreated: async function() {\n  if (this.payload.command.command != \"PRIVMSG\") {\n          return {}\n      }\n      this.displayName = this.payload.tags[\"display-name\"]\n      if (this.payload.tags[\"display-name\"] == undefined) {\n        this.displayName = this.payload.user\n      }\n\n      // twitch badges\n      if (this.payload.tags.badges) {\n        for (const [key, value] of Object.entries(this.payload.tags[\"badges\"])) {\n          if (this.GlobalBadges[key]) {\n            this.Badges.push({\"Url\": this.GlobalBadges[key][value]})\n          }\n        }\n      }\n      // parse extension badges\n      if (this.OtherBadges) {\n        for (const value of this.OtherBadges) {\n          if (value.Users.includes(this.payload.tags[\"user-id\"])) {\n            this.Badges.push({\"Url\": value.Url})\n          }\n        }\n      }\n\n      // 7tv paints\n      if (this.paintsEnabled == \"1\") {\n        for (const value of this.Paints) {\n          if (value.users.includes(this.payload.tags[\"user-id\"])) {\n            this.HavePaints = true\n            this.Paint = value\n            break\n          }\n        }\n      }\n  },\ncomputed: {\n  color() {\n      let mes_BG = this.payload.BG == \"0\" ? this.BG : this.BG2\n\n      let color = this.payload.tags.color\n      if (!this.payload.tags.color) {\n        color = this.defaultColors[Math.floor(Math.random() * this.defaultColors.length)]\n      }\n      // @todo: добавить убавление яркости\n      if (mes_BG != \"transparent\" && this.SmoothColors == \"1\") {\n        // если сообщение сливается с фоном:\n        let userRGB = Common.hexToRgb(color)\n        let backgroundRGB = Common.hexToRgb(mes_BG)\n\n        // схожесть цветов\n        let userXYZ = ColourDistance.rgb2xyz(userRGB[0], userRGB[1], userRGB[2])\n        let backgroundXYZ = ColourDistance.rgb2xyz(backgroundRGB[0], backgroundRGB[1], backgroundRGB[2])\n\n\n        let distance = ColourDistance.deltaE00(userXYZ[0], userXYZ[1], userXYZ[2], backgroundXYZ[0], backgroundXYZ[1], backgroundXYZ[2]) * 10\n        if (distance == 0) {\n          distance = 0.0001\n        }\n        if (distance < 0.3) {\n          // значит фон сливается, теперь мы добавляем/убавляем +40% яркость пользователю\n          let newColor = Common.pSBC(0.25, color)\n          return newColor\n        }\n      }\n      return color\n    },\n  FinalMessage() {\n    let TempMessage = `${this.payload.parameters}`\n\n    // TempMessage = twemoji.parse(TempMessage)\n\n    let f_mes = Common.textToMessageObject(TempMessage)\n\n    if (this.payload.tags.emotes) {\n      let twitchEmotes = Common.parse_smiles(TempMessage, this.payload.tags[\"emotes\"])\n      for (const [em, url] of Object.entries(twitchEmotes)) {\n        for (const i in f_mes) {\n          if (f_mes[i].Text.slice(0, -1) == em) {\n            f_mes[i].Type = \"emote\"\n            f_mes[i].Text = url\n            f_mes[i].ZeroWidth = false\n          }\n        }\n      }\n    }\n\n    for (const em of this.Emotes) {\n      for (const i in f_mes) {\n        if (f_mes[i].Text.slice(0, -1) == em.Name) {\n          f_mes[i].Type = \"emote\"\n          f_mes[i].Text = this.EmotesBaseUrl[em.Type].replace('{0}', em.ID)\n          f_mes[i].ZeroWidth = em.ZeroWidth\n        }\n      }\n    }\n\n    if (this.payload.PersonalEmotes !== undefined) {\n      for (const em of this.payload.PersonalEmotes) {\n        for (const i in f_mes) {\n          if (f_mes[i].Text.slice(0, -1) == em.Name) {\n            f_mes[i].Type = \"emote\"\n            f_mes[i].Text = this.EmotesBaseUrl[em.Type].replace('{0}', em.ID)\n            f_mes[i].ZeroWidth = em.ZeroWidth\n          }\n        }\n      }\n    }\n\n    return f_mes\n  },\n  bgImage() {\n    if (!this.Paint || this.paintsEnabled == \"0\") {\n      return \"\"\n    }\n    const ccsFunc = this.Paint.function\n\n    const args = []\n    switch (this.Paint.function) {\n        case \"linear-gradient\":\n            args.push(`${this.Paint.angle}deg`)\n            break;\n        case \"radial-graient\":\n            args.push(this.Paint.shape ?? \"circle\")\n            break\n        case \"url\":\n            args.push(this.Paint.image_url ?? \"\")\n            break\n    }\n    let funcPrefix = \"\"\n    if (this.Paint.function !== \"URL\") {\n        funcPrefix = this.Paint.repeat ? \"repeating-\" : \"\"\n    }\n    for (const stop of this.Paint.stops) {\n        const color = Common.DecimalToStringRGBA(stop.color)\n        args.push(`${color} ${stop.at * 100}%`)\n    }\n    return `${funcPrefix}${ccsFunc}(${args.join(\", \")})`\n  },\n  filterText() {\n    if (this.shadowText == \"1\") {\n      return \"drop-shadow(-1px 2px 1px #2b2b2b)\"\n    }\n    return \"\"\n  },\n  filter() {\n    try {\n      if (this.paintsEnabled == \"0\") throw \"paints disabled\"\n      return this.Paint.drop_shadows\n      .map((v) => `drop-shadow(${v.x_offset}px ${v.y_offset}px ${v.radius}px ${Common.DecimalToStringRGBA(v.color)})`)\n      .join(\" \");\n    } catch (error) {\n      if (this.shadowText == \"1\") {\n        return \"drop-shadow(-1px 2px 1px #2b2b2b)\"\n      }\n      return \"\"\n    }\n  },\n  paintColor() {\n    if (!this.Paint || this.paintsEnabled == \"0\") {\n      return \"\"\n    }\n    return Common.DecimalToStringRGBA(this.Paint.color)\n  },\n  badgeSize() {\n    if (this.interpolateSize == \"1\" && parseInt(this.font_size)) {\n      return Math.round(0.8 * parseInt(this.font_size) + 4.4).toString() + \"px\"\n    }\n    return \"18px\"\n  },\n  emoteSize() {\n    if (this.interpolateSize == \"1\" && parseInt(this.font_size)) {\n      return (parseInt(this.font_size) + 14).toString() + \"px\"\n    }\n    return \"32px\"\n  },\n  messageSize() {\n    if (this.interpolateSize && parseInt(this.font_size)) {\n      return Math.round(1.33 * parseInt(this.font_size) + 7).toString() + \"px\"\n    }\n    return \"31px\"\n  },\n  Font_Size() {\n      return `${this.font_size}px`\n  },\n  Border() {\n      return `${this.border}px solid black`\n  }\n}\n}\n</script>\n\n<style>\n  .ChatMessage[bg=\"0\"] {\n    background-color: v-bind(BG);\n  }\n\n  .ChatMessage[bg=\"1\"] {\n    background-color: v-bind(BG2);\n  }\n\n  .Badge {\n    display: inline-block;\n    padding-right: 3px;\n  }\n  .Badge img {\n    width: v-bind(badgeSize);\n    /* vertical-align: middle; */\n  }\n  .ChatMessage {\n    padding-top: 3px;\n    padding-bottom: 3px;\n    padding-left: 5px;\n\n    min-height: v-bind(messageSize);\n    font-size: v-bind(Font_Size);\n\n    width: 100%;\n\n    display: inline-block;\n\n    background: v-bind(BG);\n    color: white;\n    border-top: v-bind(Border);\n  }\n  .message-text {\n    bottom: 5px;\n    margin-right: 13px;\n    filter: v-bind('filterText');\n  }\n  .message-text img, .emoji {\n    height: v-bind(emoteSize);\n    vertical-align: middle;\n    filter: unset;\n    padding-right: 8px;\n  }\n  .message-nick {\n    font-weight: 700;\n\n    /* background-size: cover; */\n    filter: v-bind('filter');\n    color: v-bind('paintColor');\n  }\n  .message-nick[HavePaints=\"true\"] {\n    -webkit-text-fill-color: transparent;\n    -webkit-background-clip: text;\n    background-clip: text !important;\n    background-color: currentcolor;\n  }\n  .message-text img[ZeroWidth=\"true\"] {\n    position: absolute;\n\t\tz-index: 1;\n\t\ttransform: translateX(-100%);\n  }\n</style>\n","import { render } from \"./ChatMessage_example.vue?vue&type=template&id=8f095174\"\nimport script from \"./ChatMessage_example.vue?vue&type=script&lang=js\"\nexport * from \"./ChatMessage_example.vue?vue&type=script&lang=js\"\n\nimport \"./ChatMessage_example.vue?vue&type=style&index=0&id=8f095174&lang=css\"\n\nimport exportComponent from \"S:\\\\golang\\\\eblanchat3.0\\\\eblanchat\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./main.vue?vue&type=template&id=72065a7f\"\nimport script from \"./main.vue?vue&type=script&lang=js\"\nexport * from \"./main.vue?vue&type=script&lang=js\"\n\nimport \"./main.vue?vue&type=style&index=0&id=72065a7f&lang=css\"\n\nimport exportComponent from \"S:\\\\golang\\\\eblanchat3.0\\\\eblanchat\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","style","class","ref","_createElementVNode","href","target","value","_hoisted_12","_hoisted_13","_createElementBlock","_Fragment","_renderList","$data","mes","_createBlock","_component_ChatMessage","key","Emotes","Paints","GlobalBadges","payload","BG","BG2","paintsEnabled","font_size","interpolateSize","OtherBadges","defaultColors","SmoothColors","border","shadowText","_hoisted_3","_hoisted_6","type","onInput","$options","onClick","_hoisted_8","_hoisted_9","_hoisted_11","onChange","_hoisted_15","_hoisted_17","min","max","_hoisted_20","onclick","_hoisted_23","checked","_hoisted_26","_hoisted_29","_hoisted_32","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_40","readonly","bg","$props","badge","src","Url","toLowerCase","source","nick","HavePaints","color","backgroundImage","_toDisplayString","_hoisted_4","Type","Text","ZeroWidth","__default__","name","data","EmotesBaseUrl","Paint","displayName","dot","mes_BG","Badges","props","Array","Object","String","created","async","this","command","tags","undefined","user","badges","entries","push","Users","includes","users","computed","Math","floor","random","length","userRGB","Common","backgroundRGB","userXYZ","ColourDistance","backgroundXYZ","distance","newColor","FinalMessage","TempMessage","parameters","f_mes","emotes","twitchEmotes","em","url","i","slice","Name","replace","ID","PersonalEmotes","bgImage","ccsFunc","function","args","angle","shape","image_url","funcPrefix","repeat","stop","stops","at","join","filterText","filter","drop_shadows","map","v","x_offset","y_offset","radius","error","paintColor","badgeSize","parseInt","round","toString","emoteSize","messageSize","Font_Size","Border","__exports__","components","ChatMessage","fontSize","pEmotes","eventApi","textShadow","altBG","Messages","currBG","channel","selectedChannel","client","evenapi","updated","$refs","chat","scrollTo","scrollHeight","shift","minus","gray","create_client","methods","changeStyle","event","trim","onChangeChannel","onChangeFontSize","onChangepEmotes","onChangeBorder","onChangeBG","newBG","substring","e","onChangePaints","onChangeInterpolate","onChangeSmooth","onChangeEventApi","disconnect","channelID","Twitch","OnUserId","onUserID","OnPrivateMessage","OnClearChat","item","OnClearMessage","gb","apis","bp","connect","concat","console","log","stv","subs","getbttvchannel","get7tvchannel","getsubscriberbadges","out_url","additional_query","location","render"],"sourceRoot":""}